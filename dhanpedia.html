<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dhanpedia: The History of AI</title>
    <!-- Use Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font for a clean look -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            @apply bg-slate-100 text-gray-900;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e2e8f0; /* light track color */
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8; /* medium gray thumb */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; /* dark gray on hover */
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header Section with Title and Search Bar -->
    <header class="bg-white p-4 sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
            <a href="#" class="text-3xl font-bold text-blue-600 hover:text-blue-500 transition-colors duration-200">
                Dhanpedia
            </a>
            <div class="w-full md:w-auto flex space-x-2">
                <input
                    id="searchInput"
                    type="text"
                    placeholder="Search Dhanpedia..."
                    class="flex-grow md:flex-none w-full md:w-80 px-4 py-2 bg-slate-50 text-gray-900 rounded-full border border-gray-200 focus:outline-none focus:border-blue-500 transition-all duration-300"
                />
                <button
                    onclick="handleSearch()"
                    class="px-6 py-2 bg-blue-600 text-white font-medium rounded-full hover:bg-blue-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-100"
                >
                    Search
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Area with Table of Contents -->
    <main class="container mx-auto mt-8 px-4 flex flex-col md:flex-row space-y-8 md:space-y-0 md:space-x-8">

        <!-- Table of Contents Sidebar -->
        <aside class="md:w-1/4 p-6 bg-white rounded-lg shadow-lg h-fit sticky top-24">
            <h3 class="text-lg font-bold mb-4 text-blue-600">Contents</h3>
            <ul id="toc-list" class="space-y-2">
                <!-- TOC will be dynamically generated here -->
            </ul>
        </aside>

        <!-- Main Article Content -->
        <article id="article-content" class="md:w-3/4 p-8 bg-white rounded-lg shadow-lg">
            <h1 class="text-4xl font-extrabold mb-4 text-blue-600">The History of Artificial Intelligence</h1>
            <p class="text-gray-700 mb-6 italic">From early concepts to modern-day breakthroughs.</p>

            <section class="prose max-w-none">
                <p>
                    Artificial intelligence (AI) is a branch of computer science that focuses on the development of machines capable of performing tasks that typically require human intelligence. The history of AI can be traced back to ancient myths and philosophical discussions about non-human entities with intelligence, but the modern field began to take shape in the mid-20th century.
                </p>

                <h2 id="early-beginnings" class="text-3xl font-bold mt-8 mb-4">Early Beginnings (1940s-1950s)</h2>
                <p>
                    The conceptual foundations of AI were laid by pioneers like Alan Turing, who in his 1950 paper "Computing Machinery and Intelligence," proposed a test—now known as the Turing Test—to determine if a machine can exhibit intelligent behavior indistinguishable from a human. The term "artificial intelligence" itself was coined by John McCarthy in 1956 at a workshop held at Dartmouth College, a seminal event often considered the birth of the AI field.
                </p>

                <h2 id="the-golden-years" class="text-3xl font-bold mt-8 mb-4">The Golden Years (1956-1974)</h2>
                <p>
                    Following the Dartmouth workshop, AI research flourished. Programs like Allen Newell and Herbert A. Simon's Logic Theorist, considered the first AI program, and McCarthy's LISP programming language, which became the preferred language for AI research, marked a period of great optimism. Researchers focused on creating systems that could solve mathematical problems and demonstrate logical reasoning. This era saw the development of influential systems such as ELIZA, a natural language processing program, and SHRDLU, which could understand and manipulate objects in a virtual world.
                </p>

                <h2 id="ai-winter" class="text-3xl font-bold mt-8 mb-4">The First AI Winter (1974-1980)</h2>
                <p>
                    Despite the early successes, progress slowed significantly by the mid-1970s. The ambitious promises of early AI researchers were not being met, and funding from agencies like DARPA began to dry up. Key challenges included the lack of sufficient computational power and the inherent "common sense" problem—creating machines that could understand the world in the way a human does. This period of reduced interest and funding is known as the "AI Winter."
                </p>

                <h2 id="expert-systems-boom" class="text-3xl font-bold mt-8 mb-4">The Expert Systems Boom (1980-1987)</h2>
                <p>
                    AI made a comeback in the 1980s with the rise of "expert systems," which were designed to mimic the decision-making ability of human experts. These systems were widely adopted by corporations and were particularly successful in fields like medical diagnosis and mineral exploration. Companies invested heavily in these systems, creating a new wave of optimism.
                </p>

                <h2 id="the-second-ai-winter" class="text-3xl font-bold mt-8 mb-4">The Second AI Winter (1987-1993)</h2>
                <p>
                    The expert systems boom was short-lived. The high cost of maintaining these systems and their brittle nature—they could not adapt to new knowledge outside their narrow domain—led to another period of disappointment and a second AI Winter.
                </p>

                <h2 id="modern-ai" class="text-3xl font-bold mt-8 mb-4">Modern AI and Machine Learning (1993-Present)</h2>
                <p>
                    The late 1990s and early 2000s saw a resurgence in AI, driven by several key factors. The explosion of the internet led to massive amounts of data becoming available, computational power increased dramatically, and new machine learning algorithms, particularly deep learning, emerged. This era saw significant breakthroughs, including IBM's Deep Blue defeating chess champion Garry Kasparov, the development of Google's search algorithm, and the widespread use of recommendation engines.
                </p>
                <p>
                    Today, AI is a pervasive force in technology. From self-driving cars and virtual assistants to medical image analysis and generative art, AI is changing every aspect of our lives. The field continues to evolve at an unprecedented pace, with new research constantly pushing the boundaries of what machines can do.
                </p>

                <h2 id="educational-archives" class="text-3xl font-bold mt-8 mb-4">Educational Archives</h2>
                <p>
                    For a wealth of educational resources, you can visit the Internet Archive's curated collection. This vast digital library contains millions of free books, movies, software, music, and more, all with an educational focus.
                </p>
                <p>
                    <a href="https://archive.org/details/education" target="_blank" class="text-blue-600 hover:underline">
                        Explore the Internet Archive's Education Collection
                    </a>
                </p>

                <!-- Private Storage Section -->
                <h2 id="private-storage" class="text-3xl font-bold mt-16 mb-4">Your Private Storage</h2>
                <div class="bg-slate-50 p-6 rounded-lg shadow-inner space-y-6">
                    <p class="text-center text-gray-500">Save a private note that only you can see. Your data is stored securely.</p>

                    <!-- Loading state indicator -->
                    <div id="loading" class="flex items-center justify-center space-x-2 text-blue-500">
                        <svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        <span>Connecting to Firebase...</span>
                    </div>

                    <div id="app-container" class="space-y-6 hidden">
                        <!-- User ID Display -->
                        <div class="bg-gray-100 p-4 rounded-lg">
                            <p class="text-sm text-gray-500">Your unique user ID:</p>
                            <code id="userIdDisplay" class="font-mono text-xs md:text-sm break-all text-gray-700"></code>
                        </div>

                        <!-- Private Note Input -->
                        <div>
                            <label for="privateNote" class="block text-sm font-medium text-gray-700 mb-1">Your Private Note</label>
                            <textarea id="privateNote" rows="6" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50 p-2"></textarea>
                        </div>

                        <!-- Save Button -->
                        <button id="saveButton" class="w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200">
                            Save Note
                        </button>

                        <!-- Display Area for Saved Note -->
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-2">My Saved Note</h3>
                            <div id="savedNoteDisplay" class="bg-gray-100 p-4 rounded-lg whitespace-pre-wrap text-gray-700">
                                No note saved yet.
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </article>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-100 p-8 mt-12 text-center text-gray-500">
        &copy; 2023 Dhanpedia. All rights reserved. This is a demonstration website.
    </footer>

    <!-- Custom Message Box -->
    <div id="messageBox" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[999]">
        <div class="bg-white text-gray-900 rounded-lg p-6 max-w-sm w-full shadow-xl text-center">
            <p id="messageText" class="mb-4 text-lg font-semibold"></p>
            <button onclick="document.getElementById('messageBox').classList.add('hidden')" class="px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors duration-200">
                OK
            </button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase-specific global variables
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // UI Elements
        const loadingDiv = document.getElementById('loading');
        const appContainer = document.getElementById('app-container');
        const userIdDisplay = document.getElementById('userIdDisplay');
        const privateNoteInput = document.getElementById('privateNote');
        const saveButton = document.getElementById('saveButton');
        const savedNoteDisplay = document.getElementById('savedNoteDisplay');
        const messageBox = document.getElementById('messageBox');
        const messageText = document.getElementById('messageText');

        // Show a custom message
        const showMessage = (msg) => {
            messageText.textContent = msg;
            messageBox.classList.remove('hidden');
        };

        let db, auth, userId;

        window.onload = async () => {
            try {
                // Initialize Firebase services
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
                setLogLevel('debug'); // Enable Firestore debug logging

                // Authenticate the user
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                // Listen for authentication state changes
                onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        userId = user.uid;
                        userIdDisplay.textContent = userId;
                        loadingDiv.classList.add('hidden');
                        appContainer.classList.remove('hidden');

                        // Set up real-time listener for the user's private note
                        const noteDocRef = doc(db, 'artifacts', appId, 'users', userId, 'dhanpedia-data', 'my-note');
                        onSnapshot(noteDocRef, (docSnap) => {
                            if (docSnap.exists()) {
                                const data = docSnap.data();
                                savedNoteDisplay.textContent = data.note;
                            } else {
                                savedNoteDisplay.textContent = 'No note saved yet.';
                            }
                        }, (error) => {
                            console.error('Error listening to note:', error);
                            showMessage('Error: Could not retrieve your note.');
                        });

                    } else {
                        // User is signed out
                        console.log('User is signed out.');
                        userIdDisplay.textContent = 'Not authenticated';
                        loadingDiv.classList.add('hidden');
                        appContainer.classList.remove('hidden');
                        showMessage('Please refresh to authenticate.');
                    }
                });

            } catch (error) {
                console.error("Firebase Initialization Error:", error);
                loadingDiv.classList.add('hidden');
                showMessage('Failed to connect to the database. Check console for details.');
            }
        };

        // Handle saving the note
        saveButton.addEventListener('click', async () => {
            if (!userId) {
                showMessage('Authentication not ready. Please wait or refresh the page.');
                return;
            }

            const noteContent = privateNoteInput.value;
            if (noteContent.trim() === '') {
                showMessage('Please enter a note to save.');
                return;
            }

            const noteDocRef = doc(db, 'artifacts', appId, 'users', userId, 'dhanpedia-data', 'my-note');
            try {
                await setDoc(noteDocRef, { note: noteContent });
                showMessage('Note saved successfully!');
            } catch (e) {
                console.error("Error saving note: ", e);
                showMessage('Error saving note. Please try again.');
            }
        });
        
        // --- Code for the original Dhanpedia page (merged) ---
        
        // Function to handle the search button click
        function handleSearch() {
            const searchQuery = document.getElementById('searchInput').value;
            if (searchQuery.trim() === '') {
                return;
            }
            console.log("Searching for: " + searchQuery);
            const messageBox = document.createElement('div');
            messageBox.innerHTML = `
                <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[999]">
                    <div class="bg-white text-gray-900 rounded-lg p-6 max-w-sm w-full shadow-xl text-center">
                        <p class="mb-4 text-lg font-semibold">Demo Alert</p>
                        <p>This is a demo. You searched for: <span class="font-bold">"${searchQuery}"</span></p>
                        <button onclick="this.parentNode.parentNode.remove()" class="mt-4 px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors duration-200">
                            OK
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(messageBox);
        }

        // Function to generate the Table of Contents dynamically
        document.addEventListener('DOMContentLoaded', () => {
            const generateTOC = () => {
                const article = document.getElementById('article-content');
                const headings = article.querySelectorAll('h2');
                const tocList = document.getElementById('toc-list');
                tocList.innerHTML = ''; 

                headings.forEach(heading => {
                    const text = heading.textContent;
                    const id = heading.id;

                    const listItem = document.createElement('li');
                    const link = document.createElement('a');

                    link.href = `#${id}`;
                    link.textContent = text;
                    link.classList.add(
                        'text-blue-500',
                        'hover:text-blue-700',
                        'transition-colors',
                        'duration-200'
                    );

                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        document.getElementById(id).scrollIntoView({
                            behavior: 'smooth'
                        });
                    });

                    listItem.appendChild(link);
                    tocList.appendChild(listItem);
                });
            };
            generateTOC();
        });
    </script>
</body>
</html>
